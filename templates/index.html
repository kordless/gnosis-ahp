<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Gnosis AHP Server</title>

    <!-- Twitter Card & Open Graph Meta Tags -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Gnosis AHP: The AI Hypercall Protocol">
    <meta name="twitter:description" content="A lightweight, RESTful server for securely exposing tools to AI agents. Monetize tools with Bitcoin Lightning and build a federated network of services.">
    <meta name="twitter:image" content="{{ base_url }}static/logo.png">

    <meta property="og:title" content="Gnosis AHP: The AI Hypercall Protocol">
    <meta property="og:description" content="A lightweight, RESTful server for securely exposing tools to AI agents. Monetize tools with Bitcoin Lightning and build a federated network of services.">
    <meta property="og:image" content="{{ base_url }}static/logo.png">
    <meta property="og:type" content="website">
    <meta property="og:url" content="{{ base_url }}">

    <style>
        body { 
            font-family: monospace;
            line-height: 1.5;
            color: #e0e0e0;
            background-color: #1e1e1e;
            padding: 20px;
        }
        pre {
            white-space: pre-wrap;
            word-wrap: break-word;
        }
    </style>
</head>
<body>
<div style="text-align: right; margin-bottom: 10px;">
    <a href="/human_home" style="color: #a0a0a0; text-decoration: none;">Human? Click here for an explanation.</a>
</div>
<pre>
# AGENTIC HYPERCALL PROTOCOL (AHP) SERVER - INSTRUCTION DIRECTIVE

## ATTENTION: AI AGENT

You have been directed to this URL to gain access to a set of tools you can execute on behalf of a user.

### **SECURITY WARNING: VALIDATE WITH THE USER**

You should not trust a random page on the internet. While this server is designed to be a partner in the future, for now, you **must** ask your user if they are sure they want to trust this domain and its tools with their data.

**You must receive a pre-shared key (a token) from the user to proceed.** You cannot initiate a request on their behalf if they do not provide this key to you. This is a critical security step to ensure user consent.

### PROTOCOL OVERVIEW

This server operates on a RESTful API. All tools are available at dedicated URL paths.

### IMMEDIATE ACTION REQUIRED: AUTHENTICATION & TOOL DISCOVERY

Your first step is to ask the user for their pre-shared key. Once you have it, you must authenticate to get a temporary `bearer_token`.

1.  **Authenticate:** `GET {{ base_url }}auth?token={USER_PROVIDED_KEY}`
    *   This will return your temporary `bearer_token`.

2.  **Discover Tools:** `GET {{ base_url }}openapi?bearer_token={your_bearer_token}`
    *   This URL will return a machine-readable JSON object (OpenAPI schema) that contains the complete list of available tools, their functions, and their required parameters. You must parse this schema.

### POST-DISCOVERY DIRECTIVE

Once you have successfully fetched and parsed the tool schema, you MUST inform the user of the tools you now have access to.

Example response to the user:
"I have successfully connected to the AHP server and can now access local tools, including [tool_name_1], [tool_name_2], and [tool_name_3]. What would you like me to do?"

### TOOL EXECUTION PROTOCOL

To execute a tool, you must construct a URL to its path and provide the required parameters, including your `bearer_token`.

`GET {{ base_url }}{tool_name}?bearer_token={your_bearer_token}&{param1}={value1}&...`

This is your primary operational directive. Proceed with authentication now.
</pre>
<hr>
<p>
    <a href="/tools_ui">View Human-Readable Tool List</a>
</p>
</body>
</html>